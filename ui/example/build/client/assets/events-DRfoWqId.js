import{r as s,j as e}from"./index-Cpyx2Kcx.js";import{A as r,E as u}from"./index.esm-BHZ-heAd.js";import{E as p}from"./EventDetailModal-DK6DciOo.js";import{A as f,N as x}from"./NavigationToolbar-CLBTHe8_.js";import"./components-DdpqaNbj.js";function j(){const[n,o]=s.useState(null),[i,l]=s.useState(null),a=typeof window<"u"&&window.location.hostname!=="localhost"&&window.location.hostname!=="127.0.0.1";s.useEffect(()=>{if(a)o(new r({baseUrl:""}));else{const t=sessionStorage.getItem("apiUrl")||"",m=sessionStorage.getItem("token")||void 0;o(new r({baseUrl:t||"",token:m}))}},[a]);const c=t=>{l(t)},d=t=>{console.log("Object clicked:",t)};return e.jsxs(f,{children:[e.jsx(x,{}),e.jsxs("div",{className:"mb-4",children:[e.jsx("h1",{className:"text-2xl font-semibold text-foreground",children:"Kubernetes Events"}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"View Kubernetes events stored in ClickHouse. Filter by type, reason, namespace, and more."})]}),n&&e.jsx(u,{client:n,onEventClick:c,onObjectClick:d,initialTimeRange:{start:"now-24h"},pageSize:50,showFilters:!0,infiniteScroll:!0,enableStreaming:!1}),i&&e.jsx(p,{title:"Event Details",data:i,onClose:()=>l(null)})]})}export{j as default};
